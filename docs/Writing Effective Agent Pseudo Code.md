# Writing Effective Agent Pseudo Code

## Terminology

- SIRJI_USER: This refers to the developer using Sirji.
- Agent: An Agent in the Sirji framework is a modular AI component that performs a specific task based on a custom pseudo code.
- Recipe: A Recipe is a file that lists prescribed tasks for solving a particular problem. It also indicates which agent should perform each task.
- Project Folder: The Project Folder is the primary directory for accessing all user-specific project files, including code files, documentation, and other relevant resources.
- Agent Output Folder: The Agent Output Folder is designated for storing the results and data outputs generated by the agents.

## Pseudo Code Use Cases with Example Snippets

In this section, we will go over the different use cases which we face while writing pseudo code giving example psedo code snippets.

### Use Case 1: Ask SIRJI_USER a question

Example 1:
```
QUESTION SIRJI_USER to provide one or more specific service files to understand the conventions used in writing a service file.
```

Example 2:
```
QUESTION SIRJI_USER to have a look at the implementation guide, make modifications, and let you know when to proceed.
```

These snippets get converted to message with action QUESTION.

### Use Case 2: Create Project File

Example 1:
```
Under the routes folder in the project, create todoRouters.js file to store the new route.
```

This snippet gets converted to message with action CREATE_PROJECT_FILE.

### Use Case 3: Read Project Files

Example 1:
```
Using the project folder structure, determine the file paths for the following core codebase files and read them for the specified purposes:
    - OpenAPI file: Understand the input parameter and response specifications for the API.
    - Sequence diagram relevant to the Target API: Understand the logic to be implemented.
```

Example 2:
```
Using the project folder structure, read all the files whose paths match the patter: routes/*.js
```

These snippets gets converted to message with action READ_PROJECT_FILES.

### Use Case 4: Make Edits to File

FIND_AND_REPLACE
INSERT_ABOVE
INSERT_BELOW

### Use Case 5: Writing File to Agent Output Folder

CREATE_AGENT_OUTPUT_FILE
APPEND_TO_AGENT_OUTPUT_INDEX

### Use Case 6: Read from Agent Output Folder

READ_AGENT_OUTPUT_FILES

### Use Case 7: Write to Scratch Pad

STORE_IN_SCRATCH_PAD

### Use Case 8: Run Commands

EXECUTE_COMMAND

### Use Case 9: Run Server

RUN_SERVER

### Use Case 10: Invoke Other Agents

INVOKE_AGENT
INVOKE_AGENT_EXISTING_SESSION


### Use Case 5: 

## Best Practices

Following are some best practices to be followed while writing Agent Pseudo Code:
- As much as possible, ask questions to SIRJI_USER at the beginning. This is effective from a cost perspective as it prevents un-necessary baggage of messages going in the messages array to the LLM alongwith the user's answer.
- Read as many files in one go as possible. If the agent reads 2 files one by one, then the file file contents gets sent in both the Completions API call. Thus reading them in one go leads to lesser cost.
- Have a clear structure for the pseudo code. This leads to better understanding and easy editing.
- Define terms, which can be referred easily in the later part of the pseudo code. Use language like: "Let's call this as ....".
